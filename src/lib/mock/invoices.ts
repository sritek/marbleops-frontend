/**
 * Mock Invoice Data for GST-Compliant Invoice System
 * Realistic marble business invoices with various scenarios
 */

import type {
  Invoice,
  InvoiceLineItem,
  SellerDetails,
  BuyerDetails,
  InvoiceTotals,
  TaxBreakdown,
  InvoicePaymentRecord,
  CustomerType,
  InvoiceType,
  SupplyType,
  InvoiceStatus,
} from "@/types";

// Default seller (store) details
export const mockSellerDetails: SellerDetails = {
  legalName: "MarbleOps Trading Pvt. Ltd.",
  tradeName: "MarbleOps",
  gstin: "24AABCU9603R1ZM",
  pan: "AABCU9603R",
  address: {
    line1: "Plot No. 45, Industrial Area",
    line2: "Near Marble Market",
    city: "Rajkot",
    state: "Gujarat",
    stateCode: "24",
    pincode: "360003",
    country: "India",
  },
  contact: {
    phone: "+91 98765 43210",
    email: "info@marbleops.com",
  },
  bankDetails: {
    accountName: "MarbleOps Trading Pvt. Ltd.",
    accountNumber: "50200012345678",
    ifscCode: "HDFC0001234",
    bankName: "HDFC Bank",
    branch: "Rajkot Main Branch",
    upiId: "marbleops@hdfcbank",
  },
};

// Mock buyers with different customer types
const mockBuyers: Record<string, BuyerDetails> = {
  b2b_gj: {
    id: "party-001",
    name: "Sharma Constructions Pvt. Ltd.",
    gstin: "24AADCS1234F1ZP",
    customerType: "B2B_REGISTERED",
    billingAddress: {
      line1: "45, Industrial Estate",
      city: "Ahmedabad",
      state: "Gujarat",
      stateCode: "24",
      pincode: "380015",
    },
    shippingAddress: {
      line1: "Site Office, Sarkhej Road",
      city: "Ahmedabad",
      state: "Gujarat",
      stateCode: "24",
      pincode: "380055",
    },
    placeOfSupply: "24",
    contact: { phone: "+91 79 2345 6789", email: "procurement@sharma.com" },
  },
  b2b_mh: {
    id: "party-002",
    name: "Mumbai Interiors & Designs",
    gstin: "27AABFM5678G1ZK",
    customerType: "B2B_REGISTERED",
    billingAddress: {
      line1: "Office 301, Trade Center",
      city: "Mumbai",
      state: "Maharashtra",
      stateCode: "27",
      pincode: "400001",
    },
    shippingAddress: {
      line1: "Warehouse, Bhiwandi",
      city: "Thane",
      state: "Maharashtra",
      stateCode: "27",
      pincode: "421302",
    },
    placeOfSupply: "27",
    contact: { phone: "+91 22 2456 7890", email: "orders@mumbaiinteriors.in" },
  },
  b2b_ka: {
    id: "party-003",
    name: "Bangalore Stone Works",
    gstin: "29AABCB9012H1ZJ",
    customerType: "B2B_REGISTERED",
    billingAddress: {
      line1: "123, Peenya Industrial Area",
      city: "Bangalore",
      state: "Karnataka",
      stateCode: "29",
      pincode: "560058",
    },
    shippingAddress: {
      line1: "123, Peenya Industrial Area",
      city: "Bangalore",
      state: "Karnataka",
      stateCode: "29",
      pincode: "560058",
    },
    placeOfSupply: "29",
    contact: { phone: "+91 80 2345 6789" },
  },
  b2b_unreg: {
    id: "party-004",
    name: "Patel Home Decor",
    gstin: null,
    customerType: "B2B_UNREGISTERED",
    billingAddress: {
      line1: "Shop 12, Stone Market",
      city: "Surat",
      state: "Gujarat",
      stateCode: "24",
      pincode: "395003",
    },
    shippingAddress: {
      line1: "Shop 12, Stone Market",
      city: "Surat",
      state: "Gujarat",
      stateCode: "24",
      pincode: "395003",
    },
    placeOfSupply: "24",
    contact: { phone: "+91 98765 12345" },
  },
  b2c: {
    id: "party-005",
    name: "Rajesh Kumar",
    gstin: null,
    customerType: "B2C",
    billingAddress: {
      line1: "Flat 402, Sunrise Apartments",
      city: "Rajkot",
      state: "Gujarat",
      stateCode: "24",
      pincode: "360001",
    },
    shippingAddress: {
      line1: "Flat 402, Sunrise Apartments",
      city: "Rajkot",
      state: "Gujarat",
      stateCode: "24",
      pincode: "360001",
    },
    placeOfSupply: "24",
    contact: { phone: "+91 99887 76655" },
  },
  b2c_rj: {
    id: "party-006",
    name: "Amit Agarwal",
    gstin: null,
    customerType: "B2C",
    billingAddress: {
      line1: "12, Civil Lines",
      city: "Jaipur",
      state: "Rajasthan",
      stateCode: "08",
      pincode: "302001",
    },
    shippingAddress: {
      line1: "12, Civil Lines",
      city: "Jaipur",
      state: "Rajasthan",
      stateCode: "08",
      pincode: "302001",
    },
    placeOfSupply: "08",
    contact: { phone: "+91 98290 12345" },
  },
};

// Helper to calculate tax amounts
function calculateTax(
  taxableValue: number,
  gstRate: number,
  isInterState: boolean
): { cgst: number; sgst: number; igst: number } {
  if (isInterState) {
    return { cgst: 0, sgst: 0, igst: Math.round(taxableValue * gstRate) / 100 };
  }
  const halfRate = gstRate / 2;
  return {
    cgst: Math.round(taxableValue * halfRate) / 100,
    sgst: Math.round(taxableValue * halfRate) / 100,
    igst: 0,
  };
}

// Helper to convert number to words (Indian format)
export function numberToWords(num: number): string {
  const ones = ["", "One", "Two", "Three", "Four", "Five", "Six", "Seven", "Eight", "Nine"];
  const tens = ["", "", "Twenty", "Thirty", "Forty", "Fifty", "Sixty", "Seventy", "Eighty", "Ninety"];
  const teens = ["Ten", "Eleven", "Twelve", "Thirteen", "Fourteen", "Fifteen", "Sixteen", "Seventeen", "Eighteen", "Nineteen"];

  if (num === 0) return "Zero";

  const crore = Math.floor(num / 10000000);
  const lakh = Math.floor((num % 10000000) / 100000);
  const thousand = Math.floor((num % 100000) / 1000);
  const hundred = Math.floor((num % 1000) / 100);
  const ten = Math.floor((num % 100) / 10);
  const one = num % 10;

  let result = "";

  if (crore > 0) {
    result += (crore < 10 ? ones[crore] : numberToWords(crore)) + " Crore ";
  }
  if (lakh > 0) {
    result += (lakh < 10 ? ones[lakh] : numberToWords(lakh)) + " Lakh ";
  }
  if (thousand > 0) {
    result += (thousand < 10 ? ones[thousand] : numberToWords(thousand)) + " Thousand ";
  }
  if (hundred > 0) {
    result += ones[hundred] + " Hundred ";
  }
  if (ten > 1) {
    result += tens[ten] + " " + ones[one];
  } else if (ten === 1) {
    result += teens[one];
  } else if (one > 0) {
    result += ones[one];
  }

  return result.trim();
}

export function formatAmountInWords(amount: number): string {
  const rupees = Math.floor(amount);
  const paise = Math.round((amount - rupees) * 100);
  
  let result = "Rupees " + numberToWords(rupees);
  if (paise > 0) {
    result += " and " + numberToWords(paise) + " Paise";
  }
  result += " Only";
  return result;
}

// Generate mock invoices
export const mockInvoices: Invoice[] = [
  // Invoice 1: B2B Intra-state (Gujarat to Gujarat) - PAID
  {
    id: "inv-001",
    tenantId: "tenant-001",
    storeId: "store-001",
    invoiceNumber: "RJK-2526-T00001",
    invoiceDate: "2025-01-15",
    dueDate: "2025-02-14",
    financialYear: "2025-26",
    invoiceType: "TAX_INVOICE",
    supplyType: "INTRA_STATE",
    reverseCharge: false,
    seller: mockSellerDetails,
    buyer: mockBuyers.b2b_gj,
    partyId: "party-001",
    items: [
      {
        id: "item-001-1",
        slNo: 1,
        invoiceId: "inv-001",
        inventoryId: "inv-marble-001",
        itemCode: "IWM-001",
        name: "Italian White Marble Slab",
        description: "Premium quality, polished finish, Grade A",
        hsnCode: "68022100",
        dimensions: { length: 8, width: 4, thickness: 18, unit: "FT" },
        areaSqFt: 96,
        quantity: 3,
        unit: "PCS",
        unitPrice: 750,
        taxableValue: 216000,
        gstRate: 18,
        cgstRate: 9,
        cgstAmount: 19440,
        sgstRate: 9,
        sgstAmount: 19440,
        igstRate: 0,
        igstAmount: 0,
        totalAmount: 254880,
      },
      {
        id: "item-001-2",
        slNo: 2,
        invoiceId: "inv-001",
        itemCode: "CUT-001",
        name: "Cutting & Edge Polishing",
        description: "Custom cutting as per drawing",
        hsnCode: "998599",
        quantity: 1,
        unit: "NOS",
        unitPrice: 5000,
        taxableValue: 5000,
        gstRate: 18,
        cgstRate: 9,
        cgstAmount: 450,
        sgstRate: 9,
        sgstAmount: 450,
        igstRate: 0,
        igstAmount: 0,
        totalAmount: 5900,
      },
    ],
    taxSummary: [
      {
        gstRate: 18,
        taxableValue: 221000,
        cgstAmount: 19890,
        sgstAmount: 19890,
        igstAmount: 0,
        cessAmount: 0,
        totalTax: 39780,
      },
    ],
    totals: {
      subtotal: 221000,
      totalDiscount: 0,
      totalCgst: 19890,
      totalSgst: 19890,
      totalIgst: 0,
      totalCess: 0,
      totalTax: 39780,
      roundOff: 0.20,
      grandTotal: 260780,
      amountInWords: "Rupees Two Lakh Sixty Thousand Seven Hundred Eighty Only",
    },
    subtotal: 221000,
    discountAmount: 0,
    isGst: true,
    cgstRate: 9,
    sgstRate: 9,
    igstRate: 0,
    cgstAmount: 19890,
    sgstAmount: 19890,
    igstAmount: 0,
    totalAmount: 260780,
    paidAmount: 260780,
    dueAmount: 0,
    paymentStatus: "PAID",
    paymentHistory: [
      {
        id: "pay-001-1",
        invoiceId: "inv-001",
        date: "2025-01-15",
        amount: 130000,
        method: "BANK_TRANSFER",
        reference: "UTR123456789",
        createdBy: "user-001",
        createdAt: "2025-01-15T10:30:00Z",
      },
      {
        id: "pay-001-2",
        invoiceId: "inv-001",
        date: "2025-01-25",
        amount: 130780,
        method: "UPI",
        reference: "UPI/123456/marbleops",
        createdBy: "user-001",
        createdAt: "2025-01-25T14:15:00Z",
      },
    ],
    compliance: {
      termsAndConditions: "1. Goods once sold will not be taken back.\n2. Payment due within 30 days.\n3. Interest @18% p.a. on delayed payments.",
      authorizedSignatory: "Ramesh Patel",
    },
    links: { orderId: "order-001" },
    orderId: "order-001",
    notes: "Delivery completed on 18th Jan. Customer satisfied with quality.",
    status: "PAID",
    version: 1,
    createdBy: "user-001",
    createdAt: "2025-01-15T09:00:00Z",
    updatedAt: "2025-01-25T14:15:00Z",
  },

  // Invoice 2: B2B Inter-state (Gujarat to Maharashtra) - PARTIAL
  {
    id: "inv-002",
    tenantId: "tenant-001",
    storeId: "store-001",
    invoiceNumber: "RJK-2526-T00002",
    invoiceDate: "2025-01-16",
    dueDate: "2025-02-15",
    financialYear: "2025-26",
    invoiceType: "TAX_INVOICE",
    supplyType: "INTER_STATE",
    reverseCharge: false,
    seller: mockSellerDetails,
    buyer: mockBuyers.b2b_mh,
    partyId: "party-002",
    items: [
      {
        id: "item-002-1",
        slNo: 1,
        invoiceId: "inv-002",
        inventoryId: "inv-granite-001",
        itemCode: "BGG-001",
        name: "Black Galaxy Granite Slab",
        description: "Premium quality, mirror polish",
        hsnCode: "68022300",
        dimensions: { length: 9, width: 5, thickness: 20, unit: "FT" },
        areaSqFt: 135,
        quantity: 5,
        unit: "PCS",
        unitPrice: 850,
        taxableValue: 573750,
        gstRate: 18,
        cgstRate: 0,
        cgstAmount: 0,
        sgstRate: 0,
        sgstAmount: 0,
        igstRate: 18,
        igstAmount: 103275,
        totalAmount: 677025,
      },
      {
        id: "item-002-2",
        slNo: 2,
        invoiceId: "inv-002",
        itemCode: "TRN-001",
        name: "Transportation Charges",
        description: "Rajkot to Mumbai (insured)",
        hsnCode: "996511",
        quantity: 1,
        unit: "NOS",
        unitPrice: 15000,
        taxableValue: 15000,
        gstRate: 18,
        cgstRate: 0,
        cgstAmount: 0,
        sgstRate: 0,
        sgstAmount: 0,
        igstRate: 18,
        igstAmount: 2700,
        totalAmount: 17700,
      },
    ],
    taxSummary: [
      {
        gstRate: 18,
        taxableValue: 588750,
        cgstAmount: 0,
        sgstAmount: 0,
        igstAmount: 105975,
        cessAmount: 0,
        totalTax: 105975,
      },
    ],
    totals: {
      subtotal: 588750,
      totalDiscount: 0,
      totalCgst: 0,
      totalSgst: 0,
      totalIgst: 105975,
      totalCess: 0,
      totalTax: 105975,
      roundOff: 0.25,
      grandTotal: 694725,
      amountInWords: "Rupees Six Lakh Ninety Four Thousand Seven Hundred Twenty Five Only",
    },
    subtotal: 588750,
    discountAmount: 0,
    isGst: true,
    cgstRate: 0,
    sgstRate: 0,
    igstRate: 18,
    cgstAmount: 0,
    sgstAmount: 0,
    igstAmount: 105975,
    totalAmount: 694725,
    paidAmount: 400000,
    dueAmount: 294725,
    paymentStatus: "PARTIAL",
    paymentHistory: [
      {
        id: "pay-002-1",
        invoiceId: "inv-002",
        date: "2025-01-16",
        amount: 400000,
        method: "BANK_TRANSFER",
        reference: "UTR987654321",
        notes: "Advance payment",
        createdBy: "user-001",
        createdAt: "2025-01-16T11:00:00Z",
      },
    ],
    compliance: {
      eWayBillNo: "331001234567",
      eWayBillDate: "2025-01-17",
      termsAndConditions: "1. Goods once sold will not be taken back.\n2. Payment due within 30 days.",
      authorizedSignatory: "Ramesh Patel",
    },
    orderId: null,
    notes: "Large order for commercial project. Balance due by 15th Feb.",
    status: "PARTIAL",
    version: 1,
    createdBy: "user-001",
    createdAt: "2025-01-16T10:00:00Z",
    updatedAt: "2025-01-16T11:00:00Z",
  },

  // Invoice 3: B2B Inter-state (Gujarat to Karnataka) - ISSUED (Unpaid)
  {
    id: "inv-003",
    tenantId: "tenant-001",
    storeId: "store-001",
    invoiceNumber: "RJK-2526-T00003",
    invoiceDate: "2025-01-17",
    dueDate: "2025-02-16",
    financialYear: "2025-26",
    invoiceType: "TAX_INVOICE",
    supplyType: "INTER_STATE",
    reverseCharge: false,
    seller: mockSellerDetails,
    buyer: mockBuyers.b2b_ka,
    partyId: "party-003",
    items: [
      {
        id: "item-003-1",
        slNo: 1,
        invoiceId: "inv-003",
        inventoryId: "inv-marble-002",
        itemCode: "MKW-001",
        name: "Makrana White Marble Slab",
        description: "Pure white, honed finish",
        hsnCode: "68022100",
        dimensions: { length: 7, width: 4, thickness: 16, unit: "FT" },
        areaSqFt: 84,
        quantity: 4,
        unit: "PCS",
        unitPrice: 650,
        taxableValue: 218400,
        gstRate: 18,
        cgstRate: 0,
        cgstAmount: 0,
        sgstRate: 0,
        sgstAmount: 0,
        igstRate: 18,
        igstAmount: 39312,
        totalAmount: 257712,
      },
    ],
    taxSummary: [
      {
        gstRate: 18,
        taxableValue: 218400,
        cgstAmount: 0,
        sgstAmount: 0,
        igstAmount: 39312,
        cessAmount: 0,
        totalTax: 39312,
      },
    ],
    totals: {
      subtotal: 218400,
      totalDiscount: 0,
      totalCgst: 0,
      totalSgst: 0,
      totalIgst: 39312,
      totalCess: 0,
      totalTax: 39312,
      roundOff: -0.12,
      grandTotal: 257712,
      amountInWords: "Rupees Two Lakh Fifty Seven Thousand Seven Hundred Twelve Only",
    },
    subtotal: 218400,
    discountAmount: 0,
    isGst: true,
    cgstRate: 0,
    sgstRate: 0,
    igstRate: 18,
    cgstAmount: 0,
    sgstAmount: 0,
    igstAmount: 39312,
    totalAmount: 257712,
    paidAmount: 0,
    dueAmount: 257712,
    paymentStatus: "UNPAID",
    paymentHistory: [],
    compliance: {
      eWayBillNo: "291001234568",
      eWayBillDate: "2025-01-18",
      termsAndConditions: "Payment due within 30 days.",
      authorizedSignatory: "Ramesh Patel",
    },
    orderId: null,
    notes: null,
    status: "ISSUED",
    version: 1,
    createdBy: "user-001",
    createdAt: "2025-01-17T09:30:00Z",
    updatedAt: "2025-01-17T09:30:00Z",
  },

  // Invoice 4: B2B Unregistered (No GSTIN) - PAID
  {
    id: "inv-004",
    tenantId: "tenant-001",
    storeId: "store-001",
    invoiceNumber: "RJK-2526-T00004",
    invoiceDate: "2025-01-18",
    dueDate: "2025-01-18",
    financialYear: "2025-26",
    invoiceType: "TAX_INVOICE",
    supplyType: "INTRA_STATE",
    reverseCharge: false,
    seller: mockSellerDetails,
    buyer: mockBuyers.b2b_unreg,
    partyId: "party-004",
    items: [
      {
        id: "item-004-1",
        slNo: 1,
        invoiceId: "inv-004",
        inventoryId: "inv-tile-001",
        itemCode: "PCT-001",
        name: "Porcelain Floor Tiles 60x60cm",
        description: "Matt finish, frost resistant",
        hsnCode: "69072200",
        quantity: 50,
        unit: "BOX",
        unitPrice: 1200,
        taxableValue: 60000,
        gstRate: 18,
        cgstRate: 9,
        cgstAmount: 5400,
        sgstRate: 9,
        sgstAmount: 5400,
        igstRate: 0,
        igstAmount: 0,
        totalAmount: 70800,
      },
    ],
    taxSummary: [
      {
        gstRate: 18,
        taxableValue: 60000,
        cgstAmount: 5400,
        sgstAmount: 5400,
        igstAmount: 0,
        cessAmount: 0,
        totalTax: 10800,
      },
    ],
    totals: {
      subtotal: 60000,
      totalDiscount: 0,
      totalCgst: 5400,
      totalSgst: 5400,
      totalIgst: 0,
      totalCess: 0,
      totalTax: 10800,
      roundOff: 0,
      grandTotal: 70800,
      amountInWords: "Rupees Seventy Thousand Eight Hundred Only",
    },
    subtotal: 60000,
    discountAmount: 0,
    isGst: true,
    cgstRate: 9,
    sgstRate: 9,
    igstRate: 0,
    cgstAmount: 5400,
    sgstAmount: 5400,
    igstAmount: 0,
    totalAmount: 70800,
    paidAmount: 70800,
    dueAmount: 0,
    paymentStatus: "PAID",
    paymentHistory: [
      {
        id: "pay-004-1",
        invoiceId: "inv-004",
        date: "2025-01-18",
        amount: 70800,
        method: "CASH",
        createdBy: "user-001",
        createdAt: "2025-01-18T15:00:00Z",
      },
    ],
    orderId: null,
    notes: "Cash sale - full payment received",
    status: "PAID",
    version: 1,
    createdBy: "user-001",
    createdAt: "2025-01-18T14:30:00Z",
    updatedAt: "2025-01-18T15:00:00Z",
  },

  // Invoice 5: B2C Intra-state - PAID
  {
    id: "inv-005",
    tenantId: "tenant-001",
    storeId: "store-001",
    invoiceNumber: "RJK-2526-T00005",
    invoiceDate: "2025-01-18",
    financialYear: "2025-26",
    invoiceType: "TAX_INVOICE",
    supplyType: "INTRA_STATE",
    reverseCharge: false,
    seller: mockSellerDetails,
    buyer: mockBuyers.b2c,
    partyId: "party-005",
    items: [
      {
        id: "item-005-1",
        slNo: 1,
        invoiceId: "inv-005",
        inventoryId: "inv-marble-003",
        itemCode: "FBM-001",
        name: "Fantasy Brown Marble",
        description: "Kitchen counter top, leather finish",
        hsnCode: "68022100",
        dimensions: { length: 10, width: 2.5, thickness: 20, unit: "FT" },
        areaSqFt: 25,
        quantity: 1,
        unit: "PCS",
        unitPrice: 900,
        taxableValue: 22500,
        gstRate: 18,
        cgstRate: 9,
        cgstAmount: 2025,
        sgstRate: 9,
        sgstAmount: 2025,
        igstRate: 0,
        igstAmount: 0,
        totalAmount: 26550,
      },
      {
        id: "item-005-2",
        slNo: 2,
        invoiceId: "inv-005",
        itemCode: "CUT-002",
        name: "L-Shape Cutting & Sink Cutout",
        hsnCode: "998599",
        quantity: 1,
        unit: "NOS",
        unitPrice: 3500,
        taxableValue: 3500,
        gstRate: 18,
        cgstRate: 9,
        cgstAmount: 315,
        sgstRate: 9,
        sgstAmount: 315,
        igstRate: 0,
        igstAmount: 0,
        totalAmount: 4130,
      },
    ],
    taxSummary: [
      {
        gstRate: 18,
        taxableValue: 26000,
        cgstAmount: 2340,
        sgstAmount: 2340,
        igstAmount: 0,
        cessAmount: 0,
        totalTax: 4680,
      },
    ],
    totals: {
      subtotal: 26000,
      totalDiscount: 0,
      totalCgst: 2340,
      totalSgst: 2340,
      totalIgst: 0,
      totalCess: 0,
      totalTax: 4680,
      roundOff: 0.20,
      grandTotal: 30680,
      amountInWords: "Rupees Thirty Thousand Six Hundred Eighty Only",
    },
    subtotal: 26000,
    discountAmount: 0,
    isGst: true,
    cgstRate: 9,
    sgstRate: 9,
    igstRate: 0,
    cgstAmount: 2340,
    sgstAmount: 2340,
    igstAmount: 0,
    totalAmount: 30680,
    paidAmount: 30680,
    dueAmount: 0,
    paymentStatus: "PAID",
    paymentHistory: [
      {
        id: "pay-005-1",
        invoiceId: "inv-005",
        date: "2025-01-18",
        amount: 30680,
        method: "UPI",
        reference: "UPI/789012/rajesh",
        createdBy: "user-001",
        createdAt: "2025-01-18T16:30:00Z",
      },
    ],
    compliance: {
      qrCode: "data:image/png;base64,iVBORw0KGgo...", // Placeholder
    },
    orderId: null,
    notes: "Residential customer - kitchen renovation",
    status: "PAID",
    version: 1,
    createdBy: "user-001",
    createdAt: "2025-01-18T16:00:00Z",
    updatedAt: "2025-01-18T16:30:00Z",
  },

  // Invoice 6: B2C Inter-state (Gujarat to Rajasthan) - OVERDUE
  {
    id: "inv-006",
    tenantId: "tenant-001",
    storeId: "store-001",
    invoiceNumber: "RJK-2526-T00006",
    invoiceDate: "2024-12-15",
    dueDate: "2025-01-14",
    financialYear: "2025-26",
    invoiceType: "TAX_INVOICE",
    supplyType: "INTER_STATE",
    reverseCharge: false,
    seller: mockSellerDetails,
    buyer: mockBuyers.b2c_rj,
    partyId: "party-006",
    items: [
      {
        id: "item-006-1",
        slNo: 1,
        invoiceId: "inv-006",
        inventoryId: "inv-marble-004",
        itemCode: "RGM-001",
        name: "Rajnagar Green Marble Slab",
        description: "Living room flooring",
        hsnCode: "68022100",
        dimensions: { length: 6, width: 3, thickness: 18, unit: "FT" },
        areaSqFt: 54,
        quantity: 6,
        unit: "PCS",
        unitPrice: 550,
        taxableValue: 178200,
        gstRate: 18,
        cgstRate: 0,
        cgstAmount: 0,
        sgstRate: 0,
        sgstAmount: 0,
        igstRate: 18,
        igstAmount: 32076,
        totalAmount: 210276,
      },
    ],
    taxSummary: [
      {
        gstRate: 18,
        taxableValue: 178200,
        cgstAmount: 0,
        sgstAmount: 0,
        igstAmount: 32076,
        cessAmount: 0,
        totalTax: 32076,
      },
    ],
    totals: {
      subtotal: 178200,
      totalDiscount: 0,
      totalCgst: 0,
      totalSgst: 0,
      totalIgst: 32076,
      totalCess: 0,
      totalTax: 32076,
      roundOff: -0.24,
      grandTotal: 210276,
      amountInWords: "Rupees Two Lakh Ten Thousand Two Hundred Seventy Six Only",
    },
    subtotal: 178200,
    discountAmount: 0,
    isGst: true,
    cgstRate: 0,
    sgstRate: 0,
    igstRate: 18,
    cgstAmount: 0,
    sgstAmount: 0,
    igstAmount: 32076,
    totalAmount: 210276,
    paidAmount: 100000,
    dueAmount: 110276,
    paymentStatus: "OVERDUE",
    paymentHistory: [
      {
        id: "pay-006-1",
        invoiceId: "inv-006",
        date: "2024-12-15",
        amount: 100000,
        method: "BANK_TRANSFER",
        reference: "UTR456789012",
        notes: "Partial advance",
        createdBy: "user-001",
        createdAt: "2024-12-15T10:00:00Z",
      },
    ],
    compliance: {
      eWayBillNo: "081001234569",
      eWayBillDate: "2024-12-16",
    },
    orderId: null,
    notes: "Follow up required - balance overdue",
    status: "OVERDUE",
    version: 1,
    createdBy: "user-001",
    createdAt: "2024-12-15T09:00:00Z",
    updatedAt: "2025-01-15T00:00:00Z",
  },

  // Invoice 7: Draft Invoice
  {
    id: "inv-007",
    tenantId: "tenant-001",
    storeId: "store-001",
    invoiceNumber: "RJK-2526-T00007",
    invoiceDate: "2025-01-19",
    dueDate: "2025-02-18",
    financialYear: "2025-26",
    invoiceType: "TAX_INVOICE",
    supplyType: "INTRA_STATE",
    reverseCharge: false,
    seller: mockSellerDetails,
    buyer: mockBuyers.b2b_gj,
    partyId: "party-001",
    items: [
      {
        id: "item-007-1",
        slNo: 1,
        invoiceId: "inv-007",
        inventoryId: "inv-granite-002",
        itemCode: "TBG-001",
        name: "Tan Brown Granite Slab",
        description: "Commercial grade",
        hsnCode: "68022300",
        dimensions: { length: 8, width: 4, thickness: 20, unit: "FT" },
        areaSqFt: 96,
        quantity: 2,
        unit: "PCS",
        unitPrice: 600,
        taxableValue: 115200,
        gstRate: 18,
        cgstRate: 9,
        cgstAmount: 10368,
        sgstRate: 9,
        sgstAmount: 10368,
        igstRate: 0,
        igstAmount: 0,
        totalAmount: 135936,
      },
    ],
    taxSummary: [
      {
        gstRate: 18,
        taxableValue: 115200,
        cgstAmount: 10368,
        sgstAmount: 10368,
        igstAmount: 0,
        cessAmount: 0,
        totalTax: 20736,
      },
    ],
    totals: {
      subtotal: 115200,
      totalDiscount: 0,
      totalCgst: 10368,
      totalSgst: 10368,
      totalIgst: 0,
      totalCess: 0,
      totalTax: 20736,
      roundOff: -0.36,
      grandTotal: 135936,
      amountInWords: "Rupees One Lakh Thirty Five Thousand Nine Hundred Thirty Six Only",
    },
    subtotal: 115200,
    discountAmount: 0,
    isGst: true,
    cgstRate: 9,
    sgstRate: 9,
    igstRate: 0,
    cgstAmount: 10368,
    sgstAmount: 10368,
    igstAmount: 0,
    totalAmount: 135936,
    paidAmount: 0,
    dueAmount: 135936,
    paymentStatus: "UNPAID",
    paymentHistory: [],
    orderId: null,
    notes: "Draft - pending customer confirmation",
    status: "DRAFT",
    version: 1,
    createdBy: "user-001",
    createdAt: "2025-01-19T10:00:00Z",
    updatedAt: "2025-01-19T10:00:00Z",
  },

  // Invoice 8: Cancelled Invoice
  {
    id: "inv-008",
    tenantId: "tenant-001",
    storeId: "store-001",
    invoiceNumber: "RJK-2526-T00008",
    invoiceDate: "2025-01-10",
    financialYear: "2025-26",
    invoiceType: "TAX_INVOICE",
    supplyType: "INTRA_STATE",
    reverseCharge: false,
    seller: mockSellerDetails,
    buyer: mockBuyers.b2c,
    partyId: "party-005",
    items: [
      {
        id: "item-008-1",
        slNo: 1,
        invoiceId: "inv-008",
        name: "Sample Item (Cancelled)",
        hsnCode: "68022100",
        quantity: 1,
        unit: "PCS",
        unitPrice: 10000,
        taxableValue: 10000,
        gstRate: 18,
        cgstRate: 9,
        cgstAmount: 900,
        sgstRate: 9,
        sgstAmount: 900,
        totalAmount: 11800,
      },
    ],
    taxSummary: [],
    totals: {
      subtotal: 10000,
      totalDiscount: 0,
      totalCgst: 900,
      totalSgst: 900,
      totalIgst: 0,
      totalCess: 0,
      totalTax: 1800,
      roundOff: 0,
      grandTotal: 11800,
      amountInWords: "Rupees Eleven Thousand Eight Hundred Only",
    },
    subtotal: 10000,
    discountAmount: 0,
    isGst: true,
    cgstRate: 9,
    sgstRate: 9,
    igstRate: 0,
    cgstAmount: 900,
    sgstAmount: 900,
    igstAmount: 0,
    totalAmount: 11800,
    paidAmount: 0,
    dueAmount: 0,
    paymentStatus: "UNPAID",
    paymentHistory: [],
    orderId: null,
    notes: null,
    status: "CANCELLED",
    version: 1,
    createdBy: "user-001",
    createdAt: "2025-01-10T09:00:00Z",
    updatedAt: "2025-01-10T11:00:00Z",
    cancelledAt: "2025-01-10T11:00:00Z",
    cancellationReason: "Customer changed requirements",
  },

  // Invoice 9: Large B2B Order with Discount
  {
    id: "inv-009",
    tenantId: "tenant-001",
    storeId: "store-001",
    invoiceNumber: "RJK-2526-T00009",
    invoiceDate: "2025-01-19",
    dueDate: "2025-02-18",
    financialYear: "2025-26",
    invoiceType: "TAX_INVOICE",
    supplyType: "INTRA_STATE",
    reverseCharge: false,
    seller: mockSellerDetails,
    buyer: mockBuyers.b2b_gj,
    partyId: "party-001",
    items: [
      {
        id: "item-009-1",
        slNo: 1,
        invoiceId: "inv-009",
        inventoryId: "inv-marble-005",
        itemCode: "SWM-001",
        name: "Statuario White Marble Slab",
        description: "Premium Italian import, bookmatched",
        hsnCode: "68022100",
        dimensions: { length: 10, width: 5, thickness: 20, unit: "FT" },
        areaSqFt: 150,
        quantity: 10,
        unit: "PCS",
        unitPrice: 1500,
        discount: { type: "PERCENT", value: 5, amount: 112500 },
        taxableValue: 2137500,
        gstRate: 18,
        cgstRate: 9,
        cgstAmount: 192375,
        sgstRate: 9,
        sgstAmount: 192375,
        igstRate: 0,
        igstAmount: 0,
        totalAmount: 2522250,
      },
      {
        id: "item-009-2",
        slNo: 2,
        invoiceId: "inv-009",
        inventoryId: "inv-marble-006",
        itemCode: "CRM-001",
        name: "Carrara White Marble Slab",
        description: "Italian import, veined pattern",
        hsnCode: "68022100",
        dimensions: { length: 9, width: 4.5, thickness: 18, unit: "FT" },
        areaSqFt: 121.5,
        quantity: 8,
        unit: "PCS",
        unitPrice: 1200,
        discount: { type: "PERCENT", value: 5, amount: 58320 },
        taxableValue: 1108080,
        gstRate: 18,
        cgstRate: 9,
        cgstAmount: 99727.2,
        sgstRate: 9,
        sgstAmount: 99727.2,
        igstRate: 0,
        igstAmount: 0,
        totalAmount: 1307534,
      },
    ],
    taxSummary: [
      {
        gstRate: 18,
        taxableValue: 3245580,
        cgstAmount: 292102,
        sgstAmount: 292102,
        igstAmount: 0,
        cessAmount: 0,
        totalTax: 584204,
      },
    ],
    totals: {
      subtotal: 3416400,
      totalDiscount: 170820,
      totalCgst: 292102,
      totalSgst: 292102,
      totalIgst: 0,
      totalCess: 0,
      totalTax: 584204,
      roundOff: 0.16,
      grandTotal: 3829784,
      amountInWords: "Rupees Thirty Eight Lakh Twenty Nine Thousand Seven Hundred Eighty Four Only",
    },
    subtotal: 3416400,
    discountAmount: 170820,
    isGst: true,
    cgstRate: 9,
    sgstRate: 9,
    igstRate: 0,
    cgstAmount: 292102,
    sgstAmount: 292102,
    igstAmount: 0,
    totalAmount: 3829784,
    paidAmount: 1500000,
    dueAmount: 2329784,
    paymentStatus: "PARTIAL",
    paymentHistory: [
      {
        id: "pay-009-1",
        invoiceId: "inv-009",
        date: "2025-01-19",
        amount: 1500000,
        method: "BANK_TRANSFER",
        reference: "UTR567890123",
        notes: "40% advance payment",
        createdBy: "user-001",
        createdAt: "2025-01-19T12:00:00Z",
      },
    ],
    compliance: {
      termsAndConditions: "1. 5% bulk discount applied.\n2. Balance due within 30 days.\n3. Delivery in 2 lots.",
      authorizedSignatory: "Ramesh Patel",
    },
    orderId: "order-009",
    notes: "Premium project - Hotel lobby flooring. VIP customer.",
    status: "PARTIAL",
    version: 1,
    createdBy: "user-001",
    createdAt: "2025-01-19T11:00:00Z",
    updatedAt: "2025-01-19T12:00:00Z",
  },

  // Invoice 10: Credit Note
  {
    id: "inv-010",
    tenantId: "tenant-001",
    storeId: "store-001",
    invoiceNumber: "RJK-2526-C00001",
    invoiceDate: "2025-01-20",
    financialYear: "2025-26",
    invoiceType: "CREDIT_NOTE",
    supplyType: "INTRA_STATE",
    reverseCharge: false,
    seller: mockSellerDetails,
    buyer: mockBuyers.b2b_gj,
    partyId: "party-001",
    items: [
      {
        id: "item-010-1",
        slNo: 1,
        invoiceId: "inv-010",
        name: "Return - Italian White Marble Slab (Damaged)",
        description: "1 slab returned due to transit damage",
        hsnCode: "68022100",
        dimensions: { length: 8, width: 4, thickness: 18, unit: "FT" },
        areaSqFt: 32,
        quantity: 1,
        unit: "PCS",
        unitPrice: 750,
        taxableValue: 24000,
        gstRate: 18,
        cgstRate: 9,
        cgstAmount: 2160,
        sgstRate: 9,
        sgstAmount: 2160,
        igstRate: 0,
        igstAmount: 0,
        totalAmount: 28320,
      },
    ],
    taxSummary: [
      {
        gstRate: 18,
        taxableValue: 24000,
        cgstAmount: 2160,
        sgstAmount: 2160,
        igstAmount: 0,
        cessAmount: 0,
        totalTax: 4320,
      },
    ],
    totals: {
      subtotal: 24000,
      totalDiscount: 0,
      totalCgst: 2160,
      totalSgst: 2160,
      totalIgst: 0,
      totalCess: 0,
      totalTax: 4320,
      roundOff: 0.20,
      grandTotal: 28320,
      amountInWords: "Rupees Twenty Eight Thousand Three Hundred Twenty Only",
    },
    subtotal: 24000,
    discountAmount: 0,
    isGst: true,
    cgstRate: 9,
    sgstRate: 9,
    igstRate: 0,
    cgstAmount: 2160,
    sgstAmount: 2160,
    igstAmount: 0,
    totalAmount: 28320,
    paidAmount: 0,
    dueAmount: -28320, // Negative = refund due to customer
    paymentStatus: "UNPAID",
    paymentHistory: [],
    compliance: {
      declaration: "This is a Credit Note issued against Invoice No. RJK-2526-T00001 dated 15-01-2025",
    },
    links: {
      originalInvoiceId: "inv-001",
    },
    orderId: null,
    notes: "Credit note for damaged goods return from Invoice #RJK-2526-T00001",
    status: "ISSUED",
    version: 1,
    createdBy: "user-001",
    createdAt: "2025-01-20T10:00:00Z",
    updatedAt: "2025-01-20T10:00:00Z",
  },
];

// Summary statistics
export const mockInvoiceSummary = {
  totalInvoices: mockInvoices.length,
  totalRevenue: mockInvoices
    .filter((inv) => inv.status !== "CANCELLED" && inv.invoiceType === "TAX_INVOICE")
    .reduce((sum, inv) => sum + inv.totalAmount, 0),
  totalOutstanding: mockInvoices
    .filter((inv) => inv.status !== "CANCELLED" && inv.status !== "PAID")
    .reduce((sum, inv) => sum + inv.dueAmount, 0),
  byStatus: {
    DRAFT: mockInvoices.filter((inv) => inv.status === "DRAFT").length,
    ISSUED: mockInvoices.filter((inv) => inv.status === "ISSUED").length,
    PARTIAL: mockInvoices.filter((inv) => inv.status === "PARTIAL").length,
    PAID: mockInvoices.filter((inv) => inv.status === "PAID").length,
    OVERDUE: mockInvoices.filter((inv) => inv.status === "OVERDUE").length,
    CANCELLED: mockInvoices.filter((inv) => inv.status === "CANCELLED").length,
  },
};

// Get invoice by ID
export function getMockInvoice(id: string): Invoice | undefined {
  return mockInvoices.find((inv) => inv.id === id);
}

// Get invoices with filters
export function getMockInvoices(filters?: {
  status?: InvoiceStatus;
  search?: string;
  partyId?: string;
  fromDate?: string;
  toDate?: string;
}): Invoice[] {
  let result = [...mockInvoices];

  if (filters?.status) {
    result = result.filter((inv) => inv.status === filters.status);
  }

  if (filters?.search) {
    const searchLower = filters.search.toLowerCase();
    result = result.filter(
      (inv) =>
        inv.invoiceNumber.toLowerCase().includes(searchLower) ||
        inv.buyer.name.toLowerCase().includes(searchLower)
    );
  }

  if (filters?.partyId) {
    result = result.filter((inv) => inv.partyId === filters.partyId);
  }

  if (filters?.fromDate) {
    result = result.filter((inv) => inv.invoiceDate >= filters.fromDate!);
  }

  if (filters?.toDate) {
    result = result.filter((inv) => inv.invoiceDate <= filters.toDate!);
  }

  // Sort by date descending
  return result.sort((a, b) => b.invoiceDate.localeCompare(a.invoiceDate));
}
